t = read.table("data/all_years.csv",sep="\t",header=T)
t
head(t)
hist(t$avg_wage)
df = as.data.frame(t)
df
head(df)
df$avg_wage
hist(df$avg_wage)
hist(df$avg_wage[df$avg_wage!=None])
hist(df$avg_wage[df$avg_wage!='None'])
df$avg_wage[df$avg_wage!='None']
?read.table
?read.table
t = read.table("data/all_years.csv",sep="\t",header=T,na.strings="None")
hist(t$avg_wage)
hist(t$avg_agi)
hist(t$avg_div)
hist(t$avg_int)
?hist
hist(t$avg_agi)
hist(t$avg_agi,breaks=20)
hist(t$avg_agi,breaks=40)
hist(t$avg_agi,breaks=40)
hist(t$avg_agi,breaks=40)
?hist
hist(t$avg_wages,breaks=40)
hist(t$avg_wage,breaks=40)
hist(t$avg_wage,breaks=40,plot=FALSE)
hist(t$avg_wage,breaks=20,plot=FALSE)
hist(t$avg_wage[t$year=2004],breaks=20,plot=FALSE)
hist(t$avg_wage[t$year==2004],breaks=20,plot=FALSE)
hist(t$avg_wage[t$year==2004],breaks=20)
hist(t$avg_wage[t$year==2004],breaks=20,plot=FALSE)
hist(t$avg_wage[t$year==2004],breaks=20,plot=FALSE)$breaks
hist(t$avg_wage[t$year==2004],breaks=20,plot=FALSE)$counts
hist(t$avg_wage,breaks=20,plot=FALSE)$breaks
hist(t$avg_int,breaks=20,plot=FALSE)$breaks
hist(t$avg_agi,breaks=20,plot=FALSE)$breaks
hist(t$avg_div,breaks=20,plot=FALSE)$breaks
savehistory("
savehistory("histogram.Rhistory")
hist(t$avg_wage[t$year=2004],breaks=20,plot=FALSE)$breaks
hist(t$avg_wage[t$year==2004],breaks=20,plot=FALSE)$breaks
hist(t$avg_wage[t$year==2004],breaks=20)
q()
ls
ls)_
ls()
df
head(df)
df$year <- factor(df$year)
head(df)
table(df$year)
table(df$year,avg_int)
table(df$year,df$avg_int)
table(df$year,summary(df$avg_int))
summary(df)
tapply(df,df$year,summary)
tapply(df$avg_wage,df$year,summary)
tapply(df$avg_wage,df$year,max)
tapply(df$year,df$avg_wage,max)
tapply(df$avg_wage,df$year,max)
df$year
tapply(df$avg_wage,df$year,max)
df$avg_wage
tapply(df$avg_wage[df$avg_wage!=None],df$year[df$avg_wage!=None],max)
df$avg_wage[df$avg_wage!=None]
df$avg_wage[df$avg_wage!='None']
tapply(df$avg_wage[df$avg_wage!='None'],df$year[df$avg_wage!='None'],max)
head(df)
df = df[df$avg_wage!='None']
df = df[,df$avg_wage!='None']
df = df[df$avg_wage!='None',]
df
df[,df$avg_agi=='None']
df[,df$avg_int=='None']
df[,df$avg_div=='None']
tapply(df$avg_wage,df$year,max)
df$year
df$avg_wage
df$avg_wage <- as.numeric(as.character(df$avg_wage))
df$avg_agi <- as.numeric(as.characer(df$avg_agi))
df$avg_agi <- as.numeric(as.character(df$avg_agi))
df$avg_div <- as.numeric(as.character(df$avg_div))
df$avg_int <- as.numeric(as.character(df$avg_int))
tapply(df$avg_wage,df$year,max)
tapply(df$avg_agi,df$year,max)
tapply(df$avg_int,df$year,max)
tapply(df$avg_div,df$year,max)
plot(tapply(df$avg_div,df$year,max))
plot(tapply(df$avg_div,df$year,max),'-')
line(tapply(df$avg_div,df$year,max))
tapply(df$avg_div,df$year,summary)
as.table(tapply(df$avg_div,df$year,summary))
as.data.frame(tapply(df$avg_div,df$year,summary))
tapply(df$avg_div,df$year,summary)
install.packages('reshape')
cast(data, year)
library(reshape)
cast(data, year)
cast(df, year)
df
col.names(df)
colnames(df)
cast(df, df$year)
table(df$year,df$avg_agi)
colnames(df)
library(ply)
library(plyr)
ddply(df,.(year),nrow)
dsum <- ddply(df, .(year), summarize)
dsum <- ddply(df, .(year), summarize, agi_mean = mean(avg_agi),)
dsum <- ddply(df, .(year), summarize, agi_mean = mean(avg_agi))
dsum
colnames(df)
dsum <- ddply(df, .(year), summarize, agi_mean = mean(avg_agi), wage_mean = mean(avg_wage), div_mean = mean(avg_div), int_mean = mean(avg_int))
dsum
?quartile
?quantile
?quantile
boxplot.stats(df$avg_wage)
?boxplot.stats
dsum <- ddply(df, .(year), summarize, agi_mean = mean(avg_agi))
dsum
dsum <- ddply(df, .(year), boxplot.stats, avg_agi)
dsum <- ddply(df, .(year), boxplot.stats, avg_agi)
q()
ls()
quantiles(df$avg_agi,probs=c(0,0.2,0.4,0.6,0.8,1))
quantile(df$avg_agi,probs=c(0,0.2,0.4,0.6,0.8,1))
quantile(df$avg_agi,probs=c(0,0.2,0.4,0.6,0.8,0.9,1))
quantile(df$avg_agi,probs=c(0,0.2,0.4,0.6,0.8,0.9,0.95,1))
boxplot(df$avg_agi)
quantile(log(df$avg_agi),probs=c(0,0.2,0.4,0.6,0.8,0.9,0.95,1))
quantile(log(df$avg_agi),probs=c(0,0.2,0.4,0.6,0.8,0.9,0.95,1),na.rm=TRUE)
boxplot(log(df$avg_agi))
exp(7.1)
exp(6.8)
exp(9.5)
quantile(df$avg_wage,probs=c(0,0.2,0.4,0.6,0.8,0.9,0.95,1),na.rm=TRUE)
q()
df <- as.data.frame(read.table('data/all_years.csv',header=T,sep='\t',na.string='None'))
head(df)
quantile(df$avg_agi,probs=c(0,0.2,0.4,0.6,0.8,0.9,0.95,1),na.rm=TRUE)
quantile(df$avg_wage,probs=c(0,0.2,0.4,0.6,0.8,0.9,0.95,1),na.rm=TRUE)
q()
ls()
len(df)
length(df)
length(df$avg_wage)
length(df$avg_wage)/4
length(df$avg_wage)/6
hist(df$avg_wage)
quantile(df$avg_wage,probs=c(10,20,40,60,80,90,95,99))
quantile(df$avg_wage,probs=c(10,20,40,60,80,90,95,99),na.rm=F)
quantile(df$avg_wage,probs=c(10,20,40,60,80,90,95,99),na.rm=T)
quantile(df$avg_wage,probs=c(.10,.20,.40,.60,.80,.90,.95,.99),na.rm=T)
?quantile
quantile(df$avg_wage,probs=c(.10,.20,.40,.60,.80,.90,.95,.99),na.rm=T)
?quantile
quantile(df$avg_wage,probs=c(.10,.20,.40,.60,.80,.90,.95,.99),na.rm=T,names=F)
bs = quantile(df$avg_wage,probs=c(.10,.20,.40,.60,.80,.90,.95,.99),na.rm=T,names=F)
?hist
hist(df$avg_wage,breaks=bs)
[0] + bs
bs = quantile(df$avg_wage,probs=c(0,.10,.20,.40,.60,.80,.90,.95,.99,1),na.rm=T,names=F)
hist(df$avg_wage,breaks=bs)
?hist
hist(df$avg_wage,breaks=bs,freq=T)
hist.stats(df$avg_wage,breaks=bs,freq=T)
hist(df$avg_wage,breaks=bs,freq=T)
?hist
bs = quantile(df$avg_agi,probs=c(0,.10,.20,.40,.60,.80,.90,.95,.99,1),na.rm=T,names=F)
bs
hist(df$avg_agi,breaks=bs,freq=T,plot=F)
max(df$avg_agi)
min(df$avg_agi)
df$avg_agi
?max
max(df$avg_agi,na.rm=T)
min(df$avg_agi,na.rm=T)
len(df$avg_agi[df$avg_agi!=NA])
length(df$avg_agi[df$avg_agi!=NA])
length(df$avg_agi[df$avg_agi==NA])
bs
hist(df$avg_agi,breaks=bs,freq=T,plot=F)
df$avg_agi[df$avg_agi<33281.25]
df$avg_agi[df$avg_agi<33281.25&&df$avg_agi>0]
df$avg_agi[df$avg_agi<33281.25&&df$avg_agi>0]
df$avg_agi[df$avg_agi<33281.25&&df$avg_agi>0]
df$avg_agi[df$avg_agi>0]
hist(df$avg_agi,breaks=c(33281.25,36706.25,39412,42016,45039.875,49025.75,55277,130000),freq=T,plot=F)
hist(df$avg_agi,breaks=c(min(df$avg_agi,na.rm=T),33281.25,36706.25,39412,42016,45039.875,49025.75,55277,max(df$avg_agi,na.rm=T),freq=T,plot=F)
hist(df$avg_agi,breaks=c(min(df$avg_agi,na.rm=T),33281.25,36706.25,39412,42016,45039.875,49025.75,55277,max(df$avg_agi,na.rm=T)),freq=T,plot=F)
q()
ls()
bs = quantile(df$avg_agi,probs=c(.10,.20,.40,.60,.80,.90,.95,.99),na.rm=T,names=F)
bs = quantile(df$avg_wage,probs=c(.10,.20,.40,.60,.80,.90,.95,.99),na.rm=T,names=F)
bs'
bs
bs = quantile(df$avg_wage,probs=c(.20,.40,.60,.80,.90,.95,.99),na.rm=T,names=F)
bs
q()
ls()
df[0:10]
df[0:10,]
library('plyr')
national_summary <- ddply(df,.(df$year), summarize, avg_agi_mean = mean(df$avg_agi), avg_wage_mean = mean(df$avg_wage), avg_div_mean = mean(df$avg_div), avg_int_mean = mean(df$avg_int))
national_summary
?mean
national_summary <- ddply(df,.(df$year), summarize, avg_agi_mean = mean(df$avg_agi,na.rm=T), avg_wage_mean = mean(df$avg_wage,na.rm=T), avg_div_mean = mean(df$avg_div,na.rm=T), avg_int_mean = mean(df$avg_int,na.rm=T))
?mean
national_summary
national_summary <- ddply(df,.(year), summarize, avg_agi_mean = mean(avg_agi,na.rm=T), avg_wage_mean = mean(avg_wage,na.rm=T), avg_div_mean = mean(avg_div,na.rm=T), avg_int_mean = mean(avg_int,na.rm=T))
national_summary
q()
